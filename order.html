<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./order.css">
</head>

<body>
    <center>
        <h3>Order Details</h3>
    </center>
    <div class="cont">
        <div class="container">
            <form id="myform">
                <br>
                <b>Name</b>
                <input type="text" placeholder="enter your name" size="80px" required class="name">
                <br><br>
                <b>Mobile No.</b><br>
                <input type="number" class="num">
                <br><br>
                <b>Shipping Address</b><br>
                <textarea name="txt" id="area" placeholder="enter your address" required></textarea>
                <br><br>
                <div class="form-group">
                    <label for="product"><b>Product</b></label>
                    <br>
                    <input type="text" id="product" name="product">
                </div>
                <br>
                <b>Quantity</b>
                <input type="number" class="num" id="quantity">
                <br><br>
                <div class="form-group">
                    <label for="price"><b>Price</b></label>
                    <br>
                    <input type="text" id="price" name="price">
                </div>
                <br>
                <b>Payment Method</b><br>
                <select id="pay" required>
            <option value="select" disabled selected>select</option>
            <option value="Paytm">Paytm</option>
            <option value="GPay">GPay</option>
            <option value="Phonepe">PhonePe</option>
            <option value="cod">COD</option>
           </select>
                <br><br><br>
                <button type="submit" class="order">Place Order</button>
            </form>

        </div>
    </div>
    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        document.addEventListener("DOMContentLoaded", function() {
            const productField = document.getElementById('product');
            const priceField = document.getElementById('price');
            const productName = getQueryParam('product');
            const price = parseFloat(getQueryParam('price'));
            const quantityField = document.getElementById('quantity');
            if (productName) {
                productField.value = decodeURIComponent(productName);
                quantityField.addEventListener('input', function() {
                    const quantity = parseFloat(quantityField.value);
                    priceField.value = price * quantity;
                });
            }
        });



        document.getElementById('myform').addEventListener('submit', function(event) {
            const name = document.getElementById('name').value;
            const mobile = document.getElementById('mobno').value;
            const address = document.getElementById('address').value;

            if (!name || !mobile || !address) {
                alert('Please fill in all required fields.');
                event.preventDefault();
            }
        });
        const orderForm = document.getElementById('myform');
        orderForm.addEventListener('submit', function(event) {
            event.preventDefault();
            window.location.href = 'Oplaced.html';
        });
    </script>
</body>

</html>
